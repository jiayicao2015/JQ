var W=a=>{throw TypeError(a)};var ie=(a,e,t)=>e.has(a)||W("Cannot "+t);var u=(a,e,t)=>(ie(a,e,"read from private field"),t?t.call(a):e.get(a)),O=(a,e,t)=>e.has(a)?W("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(a):e.set(a,t);import{r as C,j as ue,q as y,c as X,g as z,o as B,X as Y,s as G,h as ce,a5 as H,aE as ve,aF as k,w as b,i as xe,aG as de,a as N}from"./index-ByIh06HG.js";import{d as q}from"./pinia-cC4VbiFp.js";function Ee(){const a=C(!ue.value);return a.value===!1&&y(()=>{a.value=!0}),{isHydrated:a}}const $=typeof ResizeObserver<"u",V=$===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},Ae=X({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(a,{emit:e}){let t=null,o,n={width:-1,height:-1};function r(i){i===!0||a.debounce===0||a.debounce==="0"?s():t===null&&(t=setTimeout(s,a.debounce))}function s(){if(t!==null&&(clearTimeout(t),t=null),o){const{offsetWidth:i,offsetHeight:v}=o;(i!==n.width||v!==n.height)&&(n={width:i,height:v},e("resize",n))}}const{proxy:c}=z();if(c.trigger=r,$===!0){let i;const v=h=>{o=c.$el.parentNode,o?(i=new ResizeObserver(r),i.observe(o),s()):h!==!0&&G(()=>{v(!0)})};return y(()=>{v()}),B(()=>{t!==null&&clearTimeout(t),i!==void 0&&(i.disconnect!==void 0?i.disconnect():o&&i.unobserve(o))}),Y}else{let i=function(){t!==null&&(clearTimeout(t),t=null),x!==void 0&&(x.removeEventListener!==void 0&&x.removeEventListener("resize",r,H.passive),x=void 0)},v=function(){i(),o&&o.contentDocument&&(x=o.contentDocument.defaultView,x.addEventListener("resize",r,H.passive),s())};const{isHydrated:h}=Ee();let x;return y(()=>{G(()=>{o=c.$el,o&&v()})}),B(i),()=>{if(h.value===!0)return ce("object",{class:"q--avoid-card-border",style:V.style,tabindex:-1,type:"text/html",data:V.url,"aria-hidden":"true",onLoad:v})}}}}),he=[Element,String],Ie=[null,document,document.body,document.scrollingElement,document.documentElement];function fe(a,e){let t=ve(e);if(t===void 0){if(a==null)return window;t=a.closest(".scroll,.scroll-y,.overflow-auto")}return Ie.includes(t)?window:t}function Q(a){return a===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:a.scrollTop}function Z(a){return a===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:a.scrollLeft}function ee(a,e,t=0){const o=arguments[3]===void 0?performance.now():arguments[3],n=Q(a);if(t<=0){n!==e&&F(a,e);return}requestAnimationFrame(r=>{const s=r-o,c=n+(e-n)/Math.max(s,t)*s;F(a,c),c!==e&&ee(a,e,t-s,r)})}function te(a,e,t=0){const o=arguments[3]===void 0?performance.now():arguments[3],n=Z(a);if(t<=0){n!==e&&U(a,e);return}requestAnimationFrame(r=>{const s=r-o,c=n+(e-n)/Math.max(s,t)*s;U(a,c),c!==e&&te(a,e,t-s,r)})}function F(a,e){if(a===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,e);return}a.scrollTop=e}function U(a,e){if(a===window){window.scrollTo(e,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}a.scrollLeft=e}function Me(a,e,t){if(t){ee(a,e,t);return}F(a,e)}function Be(a,e,t){if(t){te(a,e,t);return}U(a,e)}let m;function He(){if(m!==void 0)return m;const a=document.createElement("p"),e=document.createElement("div");k(a,{width:"100%",height:"200px"}),k(e,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(a),document.body.appendChild(e);const t=a.offsetWidth;e.style.overflow="scroll";let o=a.offsetWidth;return t===o&&(o=e.clientWidth),e.remove(),m=t-o,m}function Fe(a,e=!0){return!a||a.nodeType!==Node.ELEMENT_NODE?!1:e?a.scrollHeight>a.clientHeight&&(a.classList.contains("scroll")||a.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(a)["overflow-y"])):a.scrollWidth>a.clientWidth&&(a.classList.contains("scroll")||a.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(a)["overflow-x"]))}const{passive:_}=H,Ce=["both","horizontal","vertical"],Ue=X({name:"QScrollObserver",props:{axis:{type:String,validator:a=>Ce.includes(a),default:"vertical"},debounce:[String,Number],scrollTarget:he},emits:["scroll"],setup(a,{emit:e}){const t={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,n,r;b(()=>a.scrollTarget,()=>{i(),c()});function s(){o!==null&&o();const x=Math.max(0,Q(n)),R=Z(n),E={top:x-t.position.top,left:R-t.position.left};if(a.axis==="vertical"&&E.top===0||a.axis==="horizontal"&&E.left===0)return;const g=Math.abs(E.top)>=Math.abs(E.left)?E.top<0?"up":"down":E.left<0?"left":"right";t.position={top:x,left:R},t.directionChanged=t.direction!==g,t.delta=E,t.directionChanged===!0&&(t.direction=g,t.inflectionPoint=t.position),e("scroll",{...t})}function c(){n=fe(r,a.scrollTarget),n.addEventListener("scroll",v,_),v(!0)}function i(){n!==void 0&&(n.removeEventListener("scroll",v,_),n=void 0)}function v(x){if(x===!0||a.debounce===0||a.debounce==="0")s();else if(o===null){const[R,E]=a.debounce?[setTimeout(s,a.debounce),clearTimeout]:[requestAnimationFrame(s),cancelAnimationFrame];o=()=>{E(R),o=null}}}const{proxy:h}=z();return b(()=>h.$q.lang.rtl,s),y(()=>{r=h.$el.parentNode,c()}),B(()=>{o!==null&&o(),i()}),Object.assign(h,{trigger:v,getPosition:()=>t}),Y}});function We(){return xe(de)}class f{constructor(){this.port=null,this.reader=null,this.writer=null,this.readPointer=0,this.isConnected=!1,this.receiveBuffer=new Uint8Array,this.callbacks={receive:[],error:null,stateChange:null}}on(e,t){return e==="receive"?this.callbacks.receive.push(t):e in this.callbacks&&(this.callbacks[e]=t),this}off(e,t){return e==="receive"?this.callbacks.receive=this.callbacks.receive.filter(o=>o!==t):e in this.callbacks&&(this.callbacks[e]=null),this}static isSupported(){return"serial"in navigator}async connect(e={baudRate:115200}){try{return this.port=await navigator.serial.requestPort(),await this.port.open(e),this.isConnected=!0,this._triggerStateChange(),this._startReading(),!0}catch(t){return this._handleError(t),!1}}async disconnect(){try{return this.reader&&(await this.reader.cancel(),this.reader.releaseLock(),this.reader=null),this.writer&&(await this.writer.close(),this.writer.releaseLock(),this.writer=null),this.port&&(await this.port.close(),this.port=null),this.isConnected=!1,this._triggerStateChange(),!0}catch(e){throw new Error("Disconnect failed with error: "+e.message)}}clearBuffer(){this.receiveBuffer=new Uint8Array,this.readPointer=0}async sendRawData(e){if(!this.isConnected)return!1;try{return this.writer=this.port.writable.getWriter(),await this.writer.write(e),!0}catch(t){return this._handleError(t),!1}finally{this.writer&&(this.writer.releaseLock(),this.writer=null)}}async sendHex(e){return this.sendRawData(f.hexToBytes(e))}async sendText(e){return this.sendRawData(new TextEncoder().encode(e))}async validateDevice({queryCommand:e,response:t,timeout:o=1e3}){if(!this.isConnected)throw new Error("Device not connected");const n=this.receiveBuffer.length;return new Promise(r=>{const s=setTimeout(()=>{this.off("receive",c),r({result:!1,reason:"Timeout"})},o),c=()=>{const i=this.receiveBuffer.slice(n);f.bufferContains(i,t)&&(clearTimeout(s),this.off("receive",c),r({result:!0}))};this.on("receive",c),this.sendRawData(e)})}static hexToBytes(e){if(e=e.replace(/\s/g,""),e.length%2!==0)throw new Error("Invalid hex string length");const t=new Uint8Array(e.length/2);for(let o=0;o<e.length;o+=2){const n=parseInt(e.substr(o,2),16);if(isNaN(n))throw new Error("Invalid hex character");t[o/2]=n}return t}static bytesToHex(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}static bufferContains(e,t){for(let o=0;o<=e.length-t.length;o++)if(t.every((n,r)=>e[o+r]===n))return!0;return!1}async _startReading(){try{for(this.reader=this.port.readable.getReader();;){const{value:e,done:t}=await this.reader.read();if(t)break;this.receiveBuffer=new Uint8Array([...this.receiveBuffer,...e]);const o=this.receiveBuffer.slice(this.readPointer);this.callbacks.receive.forEach(n=>n(o)),this.readPointer=this.receiveBuffer.length}}catch(e){this._handleError(e)}finally{this.reader.releaseLock()}}_triggerStateChange(){this.callbacks.stateChange&&this.callbacks.stateChange(this.isConnected)}async _handleError(e){console.error("SerialManager Error:",e),this.callbacks.error&&this.callbacks.error({type:"serial",message:e.message,stack:e.stack});try{await this.disconnect()}catch(t){console.error("Disconnect Error:",t),alert("Something went wrong, please refresh the page and try again.")}}}const Ge=q("serial",()=>{const a=C(new f),e=C(null),t=C(null),o=C(!1),n=()=>{a.value.on("receive",s).on("error",i=>{i.value=i,console.log("err",i)})},r=async i=>(a.value.clearBuffer(),a.value.sendHex(i)),s=i=>{e.value=i};return{manager:a,receiveData:e,err:t,isConnected:o,setIsConnected:i=>{o.value=i},init:n,sendHex:r}}),ke=q("hubConfig",()=>{const a=C(""),e=N(()=>a.value),t=d=>{a.value=d},o=C(""),n=N(()=>o.value),r=d=>{o.value=d},s=C(""),c=N(()=>s.value),i=d=>{s.value=d},v=C(""),h=N(()=>v.value),x=d=>{v.value=d},R=C(""),E=N(()=>R.value),g=d=>{R.value=d},D=C(0),L=N(()=>D.value),ne=d=>{D.value=d},A=C(0),le=N(()=>A.value),re=d=>{A.value=d},M=C([]),se=N(()=>M.value);return{profile:a,getProfile:e,setProfile:t,hubModel:o,getHubModel:n,setHubModel:r,lastBridgeConnCarVendor:s,getLastBridgeConnCarVendor:c,setLastBridgeConnCarVendor:i,version:v,getVersion:h,setVersion:x,patchVersion:R,getPatchVersion:E,setPatchVersion:g,dayBrightness:D,getDayBrightness:L,setDayBrightness:ne,nightBrightness:A,getNightBrightness:le,setNightBrightness:re,hubProButtonConfigs:M,getHubProButtonConfigs:se,setHubProButtonConfigs:d=>{M.value=d}}}),Se={HORN:{value:0},UPSHIFT:{value:1},DOWNSHIFT:{value:2},OK:{value:16},"MENU MODE":{value:17},PHONE:{value:18},M1:{value:19},M2:{value:20},LIM:{value:21},CRUISE:{value:22},RES:{value:23},"VOLUME UP":{value:24},"VOLUME DOWN":{value:25},"SPEED INC 1 MPH":{value:26},"SPEED DEC 1 MPH":{value:27},"SPEED INC 5 MPH":{value:28},"SPEED DEC 5 MPH":{value:29},"MENU UP":{value:48},"MENU DOWN":{value:49},"SPORT MODE":{value:208},EDC:{value:209},"ESP OFF":{value:210},"STEERING WEIGHT ADJ":{value:211},"DRIVE LOGIC SWITCH":{value:212},"iDRIVE.HOME":{value:214},"iDRIVE.OPTION":{value:215},"iDRIVE.UP":{value:216},"iDRIVE.DOWN":{value:217},"iDRIVE.LEFT":{value:218},"iDRIVE.RIGHT":{value:219},"iDRIVE.CW":{value:220},"iDRIVE.CCW":{value:221},"iDRIVE.CONFIRM":{value:222},"iDRIVE.BACK":{value:223},BC:{value:247},FLASH:{value:240},"LEFT TURN SIGNAL":{value:242},"RIGHT TURN SIGNAL":{value:243},"SINGLE WIPE":{value:248},"WINDSHIELD WASHER":{value:249},WIPER:{value:250}},Re={HORN:{value:0},UPSHIFT:{value:1},DOWNSHIFT:{value:2},OK:{value:16},"MENU MODE":{value:17},PHONE:{value:18},M1:{value:19},M2:{value:20},LIM:{value:21},CRUISE:{value:22},RES:{value:23},"VOLUME UP":{value:24},"VOLUME DOWN":{value:25},"SPEED INC 1 MPH":{value:26},"SPEED DEC 1 MPH":{value:27},"SPEED INC 5 MPH":{value:28},"SPEED DEC 5 MPH":{value:29},SET:{value:30},CANCEL:{value:31},"MENU LEFT":{value:32},"MENU RIGHT":{value:33},"MENU UP":{value:48},"MENU DOWN":{value:49},VOICE:{value:34},RESUME:{value:35},"RES CANCEL":{value:36},"INCREASE DISTANCE":{value:37},"DECREASE DISTANCE":{value:38},"LANE ASSIST":{value:39},"ACC MODE":{value:40},"M MODE":{value:208},SETUP:{value:209},ESP:{value:210},"EXHAUST VALVE":{value:211},"DRIVE LOGIC UP":{value:212},"DRIVE LOGIC DOWN":{value:213},"iDRIVE.HOME":{value:214},"iDRIVE.OPTION":{value:215},"iDRIVE.UP":{value:216},"iDRIVE.DOWN":{value:217},"iDRIVE.LEFT":{value:218},"iDRIVE.RIGHT":{value:219},"iDRIVE.ROTATE CW":{value:220},"iDRIVE.ROTATE CCW":{value:221},"iDRIVE.CONFIRM":{value:222},"iDRIVE.BACK":{value:223},BC:{value:247},FLASH:{value:240},"LEFT TURN SIGNAL":{value:242},"RIGHT TURN SIGNAL":{value:243},"SINGLE WIPE":{value:248},"WINDSHIELD WASHER":{value:249},WIPER:{value:250}},J={HORN:{value:0},UPSHIFT:{value:1},DOWNSHIFT:{value:2},OK:{value:16},"MENU MODE":{value:17},PHONE:{value:18},LIM:{value:21},CRUISE:{value:22},"VOLUME UP":{value:24},"VOLUME DOWN":{value:25},"SPEED INC 1 MPH":{value:26},"SPEED DEC 1 MPH":{value:27},"SPEED INC 5 MPH":{value:28},"SPEED DEC 5 MPH":{value:29},SET:{value:30},"MENU UP":{value:48},"MENU DOWN":{value:49},VOICE:{value:34},"RES CANCEL":{value:36},"INCREASE DISTANCE(ASIA)":{value:37},"DECREASE DISTANCE(ASIA)":{value:38},"FOLLOWING DISTANCE(AMERICA)":{value:40},SPORT:{value:208},"SAFETY SYSTEM":{value:209},DSC:{value:210},"iDRIVE.HOME":{value:214},"iDRIVE.OPTION":{value:215},"iDRIVE.UP":{value:216},"iDRIVE.DOWN":{value:217},"iDRIVE.LEFT":{value:218},"iDRIVE.RIGHT":{value:219},"iDRIVE.ROTATE CW":{value:220},"iDRIVE.ROTATE CCW":{value:221},"iDRIVE.CONFIRM":{value:222},"iDRIVE.BACK":{value:223},BC:{value:247},FLASH:{value:240},"LEFT TURN SIGNAL":{value:242},"RIGHT TURN SIGNAL":{value:243},"SINGLE WIPE":{value:248},"WINDSHIELD WASHER":{value:249},WIPER:{value:250}},Te={},Le={HORN:{value:0},"LAST TRACK":{value:16},"NEXT TRACK":{value:17},"VOLUME UP":{value:18},"VOLUME DOWN":{value:19},"LEFT SCROLL UP":{value:48},"LEFT SCROLL PRESS":{value:20},"LEFT SCROLL DOWN":{value:49},VOICE:{value:21},CRUISE:{value:22},CANCEL:{value:23},RES:{value:24},SET:{value:25},"RIGHT SCROLL UP":{value:50},"RIGHT SCROLL PRESS":{value:26},"RIGHT SCROLL DOWN":{value:51},"FOLLOWING DISTANCE":{value:27},"LANE ASSIST":{value:28},"R+":{value:208},ESP:{value:210},"MODE+":{value:212},"MODE-":{value:213},FLASH:{value:240},"LEFT TURN SIGNAL":{value:242},"RIGHT TURN SIGNAL":{value:243},"SINGLE WIPE":{value:248},"WINDSHIELD WASHER":{value:249},WIPER:{value:250}},Ne={HORN:{value:0},UPSHIFT:{value:1},DOWNSHIFT:{value:2},"NEXT TRACK":{value:16},"LAST TRACK":{value:17},"VOLUME UP":{value:18},"VOLUME DOWN":{value:19},SOURCE:{value:20},"PICK UP":{value:21},"HANG UP":{value:22},VOICE:{value:23},OK:{value:24},BACK:{value:25},LEFT:{value:26},UP:{value:27},DOWN:{value:28},RIGHT:{value:29},CRUISE:{value:30},RES:{value:31},SET:{value:32},CANCEL:{value:33},"FOLLOWING DISTANCE":{value:34},TRACK:{value:208},ESP:{value:210},FLASH:{value:240},"LEFT TURN SIGNAL":{value:242},"RIGHT TURN SIGNAL":{value:243},"SINGLE WIPE":{value:248},WIPER:{value:250}},ge={HORN:{value:0},UPSHIFT:{value:1},DOWNSHIFT:{value:2},"NEXT TRACK":{value:16},"LAST TRACK":{value:17},"VOLUME UP":{value:18},"VOLUME DOWN":{value:19},"MENU UP":{value:22},"MENU DOWN":{value:23},"MENU LEFT":{value:21},"MENU RIGHT":{value:20},OK:{value:24},IO:{value:25},VOICE:{value:26},VIEW:{value:27},"ACC CRUISE":{value:29},"ACC DISTANCE":{value:30},"ACC SPEED UP":{value:31},"ACC SPEED DOWN":{value:32},"ACC RES":{value:33},"ACC SET":{value:34},MODE:{value:208},ASSIST:{value:209},CLIMA:{value:210},MENU:{value:211},FLASH:{value:240},"LEFT TURN SIGNAL":{value:242},"RIGHT TURN SIGNAL":{value:243},HAZARD:{value:246},"SINGLE WIPE":{value:248},"WINDSHIELD WASHER":{value:249},WIPER:{value:250}},j={Horn:{value:1,separator:!0,hasColor:!1},L1:{value:16,separator:!0,hasColor:!0},L2:{value:17,separator:!1,hasColor:!0},L3:{value:18,separator:!1,hasColor:!0},L4:{value:19,separator:!1,hasColor:!0},R1:{value:24,separator:!1,hasColor:!0},R2:{value:25,separator:!1,hasColor:!0},R3:{value:26,separator:!1,hasColor:!0},R4:{value:27,separator:!1,hasColor:!0},LShifter1:{value:32,separator:!0,hasColor:!1},LShifter2:{value:33,separator:!1,hasColor:!1},RShifter1:{value:40,separator:!1,hasColor:!1},RShifter2:{value:41,separator:!1,hasColor:!1},LJoystick_UP:{value:48,separator:!0,hasColor:!1},LJoystick_DOWN:{value:49,separator:!1,hasColor:!1},LJoystick_LEFT:{value:50,separator:!1,hasColor:!1},LJoystick_RIGHT:{value:51,separator:!1,hasColor:!1},LJoystick_CENTER:{value:52,separator:!1,hasColor:!1},LJoystick_CW:{value:53,separator:!1,hasColor:!1},LJoystick_CCW:{value:54,separator:!1,hasColor:!1},RJoystick_UP:{value:56,separator:!0,hasColor:!1},RJoystick_DOWN:{value:57,separator:!1,hasColor:!1},RJoystick_LEFT:{value:58,separator:!1,hasColor:!1},RJoystick_RIGHT:{value:59,separator:!1,hasColor:!1},RJoystick_CENTER:{value:60,separator:!1,hasColor:!1},RJoystick_CW:{value:61,separator:!1,hasColor:!1},RJoystick_CCW:{value:62,separator:!1,hasColor:!1}},p={"Profile 1":{label:"Profile 1",value:0},"Profile 2":{label:"Profile 2",value:1},"Profile 3":{label:"Profile 3",value:2}},be=p["Profile 1"],Ve=Object.keys(p).length,Oe={"BMW F":Se,"BMW G":Re,"Supra(America)":J,"Supra(Asia)":J,Porsche:Te,"Honda FL5":Le,"Subaru BRZ":Ne,"GTI MK8":ge},pe={"BMW F":{label:"BMW F",value:11},"BMW G":{label:"BMW G",value:12},"Supra(America)":{label:"Supra(America)",value:13},"Supra(Asia)":{label:"Supra(Asia)",value:14},Porsche:{label:"Porsche",value:20},"Honda FL5":{label:"Honda FL5",value:26},"Subaru BRZ":{label:"Subaru BRZ",value:30},"GTI MK8":{label:"GTI MK8",value:35}},_e=pe["BMW F"];function we(a,e,t){const o=a[e];if(!o)throw new Error(`Map ${e} not found in registry`);if(!Object.hasOwn(o,t))throw new Error(`Key ${t} not found in map ${e}`);return o[t]}function Je(a,e){const t=Object.values(a).find(o=>o.value===e);return t||null}var S,I,P,T,w;const l=class l{static getFromCmdByte(e){if(!Object.hasOwn(u(l,I),e))throw new Error("Invalid command byte:"+e);return u(l,I)[e]}static getFromResultByte(e){if(!Object.hasOwn(u(l,w),e))throw new Error("Invalid result byte:"+e);return console.log("getFromResultByte",e,u(l,w)[e]),u(l,w)[e]}static verifyFrame(e){if(e.length!==e[3]+5)throw new Error("Invalid frame length:"+e.length);let t=f.hexToBytes(u(l,S));if(e[0]!==t[0]||e[1]!==t[1])throw new Error("Invalid frame header:"+e.slice(0,2));const o=e.slice(0,-1),n=l.calcChecksum(o);if(n!==e[e.length-1])throw new Error("Invalid checksum:"+n);return{cmd:e[2]&15,data:e.slice(4,-1)}}static generateFlowControlFrame(e){if(!Object.hasOwn(u(l,P),e))throw new Error("Invalid flow control source:"+e);const o=u(l,P)[e],n=[...f.hexToBytes(u(l,S)),u(l,I).FLOW_CONTROL,1,o],r=l.calcChecksum(n);return[...n,r].map(s=>s.toString(16).padStart(2,"0")).join("")}static generateGetConfigInfoFrame(){const t=[...f.hexToBytes(u(l,S)),u(l,I).GET_CONFIG,1,u(l,T).INFO],o=l.calcChecksum(t);return[...t,o].map(n=>n.toString(16).padStart(2,"0")).join("")}static generateSetConfigProfileFrame(e){if(!Object.hasOwn(p,e))throw new Error("Invalid profile: "+e);const o=p[e].value,n=[...f.hexToBytes(u(l,S)),u(l,I).SET_CONFIG,2,u(l,T).PROFILE,o],r=l.calcChecksum(n);return[...n,r].map(s=>s.toString(16).padStart(2,"0")).join("")}static generateGetConfigProfileFrame(){const t=[...f.hexToBytes(u(l,S)),u(l,I).GET_CONFIG,1,u(l,T).PROFILE],o=l.calcChecksum(t);return[...t,o].map(n=>n.toString(16).padStart(2,"0")).join("")}static generateGetConfigButtonFrame(){const t=[...f.hexToBytes(u(l,S)),u(l,I).GET_CONFIG,1,u(l,T).BUTTON],o=l.calcChecksum(t);return[...t,o].map(n=>n.toString(16).padStart(2,"0")).join("")}static generateSetConfigButtonFrame(e,t,o,n=null,r=null){let c=0;if(!Object.hasOwn(j,t))throw new Error("Invalid button index:"+t);const i=j[t].value;if(!Object.hasOwn(p,o))throw new Error("Invalid profile: "+o);const v=p[o].value;let h=255;e&&n&&(h=we(Oe,e,n).value,console.log("inputIndexByte",h),c|=1);let x=255,R=255,E=255;if(r){const L=oe(r);if(L.length!==3)throw new Error("Invalid color RGB:"+r);x=L[0],R=L[1],E=L[2],c|=2}const g=[...f.hexToBytes(u(l,S)),u(l,I).SET_CONFIG,8,u(l,T).BUTTON,i,v,c,h,x,R,E],D=l.calcChecksum(g);return[...g,D].map(L=>L.toString(16).padStart(2,"0")).join("")}static generateGetConfigBrightnessFrame(){const t=[...f.hexToBytes(u(l,S)),u(l,I).GET_CONFIG,1,u(l,T).BRIGHTNESS],o=l.calcChecksum(t);return[...t,o].map(n=>n.toString(16).padStart(2,"0")).join("")}static generateSetConfigBrightnessFrame(e=null,t=null){let n=0,r=255;if(e!==null){if(e<0||e>100)throw new Error("Invalid day brightness:"+e);r=Math.round(e*2.55),r=Math.min(255,Math.max(0,r))}let s=255;if(t!==null){if(t<0||t>100)throw new Error("Invalid night brightness:"+t);s=Math.round(t*2.55),s=Math.min(255,Math.max(0,s)),n|=1}const c=[...f.hexToBytes(u(l,S)),u(l,I).SET_CONFIG,4,u(l,T).BRIGHTNESS,n,r,s],i=l.calcChecksum(c);return[...c,i].map(v=>v.toString(16).padStart(2,"0")).join("")}static calcChecksum(e){return e.reduce((o,n)=>o+n,0)&255}};S=new WeakMap,I=new WeakMap,P=new WeakMap,T=new WeakMap,w=new WeakMap,O(l,S,"5043"),O(l,I,{FLOW_CONTROL:0,SET_CONFIG:1,GET_CONFIG:2,RESULT:10,RESULT_DATA:13}),O(l,P,{STOP:0,WEBSITE:1,APP:2,FACTORY:252}),O(l,T,{INFO:0,PROFILE:1,BUTTON:2,BRIGHTNESS:3}),O(l,w,{OK:0,FAIL:1});let K=l;class ae{constructor(e){this.buttons={Horn:{inputIndex:e[24]},L1:{inputIndex:e[25],colorR:e[0],colorG:e[1],colorB:e[2]},L2:{inputIndex:e[26],colorR:e[3],colorG:e[4],colorB:e[5]},L3:{inputIndex:e[27],colorR:e[6],colorG:e[7],colorB:e[8]},L4:{inputIndex:e[28],colorR:e[9],colorG:e[10],colorB:e[11]},R1:{inputIndex:e[29],colorR:e[12],colorG:e[13],colorB:e[14]},R2:{inputIndex:e[30],colorR:e[15],colorG:e[16],colorB:e[17]},R3:{inputIndex:e[31],colorR:e[18],colorG:e[19],colorB:e[20]},R4:{inputIndex:e[32],colorR:e[21],colorG:e[22],colorB:e[23]},LShifter1:{inputIndex:e[33]},LShifter2:{inputIndex:e[34]},RShifter1:{inputIndex:e[35]},RShifter2:{inputIndex:e[36]},LJoystick_UP:{inputIndex:e[37]},LJoystick_DOWN:{inputIndex:e[38]},LJoystick_LEFT:{inputIndex:e[39]},LJoystick_RIGHT:{inputIndex:e[40]},LJoystick_CENTER:{inputIndex:e[41]},LJoystick_CW:{inputIndex:e[42]},LJoystick_CCW:{inputIndex:e[43]},RJoystick_UP:{inputIndex:e[44]},RJoystick_DOWN:{inputIndex:e[45]},RJoystick_LEFT:{inputIndex:e[46]},RJoystick_RIGHT:{inputIndex:e[47]},RJoystick_CENTER:{inputIndex:e[48]},RJoystick_CW:{inputIndex:e[49]},RJoystick_CCW:{inputIndex:e[50]}}}getButtonConfig(e){if(!Object.hasOwn(this.buttons,e))throw new Error("Invalid button key:"+e);return this.buttons[e]}setButtonConfig(e,t=null,o=null){if(!Object.hasOwn(this.buttons,e))throw new Error("Invalid button key:"+e);if(t===null&&o===null)throw new Error("Invalid input index and color RGB");const n=this.buttons[e];if(t&&(n.inputIndex=t),o){const r=oe(o);if(r.length!==3)throw new Error("Invalid color RGB:"+o);n.colorR=r[0],n.colorG=r[1],n.colorB=r[2]}}static parseRawData(e){if(e.length%51!==0)throw new Error("Invalid raw data length:"+e.length);const t=[];for(let o=0;o<e.length;o+=51){const n=e.slice(o,o+51);t.push(new ae(n))}return t}}function oe(a){a=a.replace("#","");const e=parseInt(a.substring(0,2),16),t=parseInt(a.substring(2,4),16),o=parseInt(a.substring(4,6),16);return[e,t,o]}function je(a,e,t){return"#"+(a<<16|e<<8|t).toString(16).padStart(6,"0")}const Ke=(a,e)=>{const t=a.__vccOpts||a;for(const[o,n]of e)t[o]=n;return t};export{j as B,pe as C,_e as D,ae as H,Oe as I,p as P,Ae as Q,je as R,f as S,K as U,Ke as _,Ue as a,ke as b,We as c,Me as d,Z as e,Q as f,He as g,Fe as h,he as i,fe as j,Ve as k,we as l,oe as m,be as n,Je as o,Be as s,Ge as u};
